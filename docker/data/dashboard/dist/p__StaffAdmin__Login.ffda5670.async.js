(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{WArq:function(c,o,e){c.exports={main:"main___27u_p",header:"header___3U2NK",title:"title___2-qf2",desc:"desc___1T5Y7",placeholder:"placeholder___3JTaE",qrcodeContainer:"qrcodeContainer___1_HhP"}},XPzc:function(c,o,e){"use strict";e.r(o);var K=e("J+/v"),O=e("MoRW"),S=e("T2oS"),D=e("W9HT"),y=e("fOrg"),M=e("+KLJ"),d=e("tJVT"),n=e("cDcd"),a=e.n(n),P=e("WArq"),t=e.n(P),v=e("895H"),g=e("N18V"),C=e("fmxG"),h=e.n(C),p=e("/MpO"),A=e("RICU"),L=function(){var B=Object(n.useState)(),l=Object(d.a)(B,2),E=l[0],T=l[1],f=Object(n.useState)(),i=Object(d.a)(f,2),W=i[0],R=i[1],U=Object(n.useState)("loading"),u=Object(d.a)(U,2),m=u[0],r=u[1],F=function(){var I=new URLSearchParams(window.location.search).get("redirect")||window.location.href.replace(window.location.pathname,"/staff-admin/welcome");r("loading"),Object(p.b)("",I).then(function(_){if(_.code!==0){T(_.message),R(_.code),r("failed");return}var s=_.data;console.log("params",s),window.WwLogin({id:"qrcodeContainer",appid:s.app_id,agentid:s.agent_id,redirect_uri:s.redirect_uri,state:s.state,href:"https://openscrm.oss-cn-hangzhou.aliyuncs.com/public/qrcode.css"}),r("success")}).catch(function(_){console.log(_)})};return a.a.createElement("div",{className:t.a.main},a.a.createElement("div",{className:t.a.header},a.a.createElement(v.a,{level:1,className:t.a.title,style:{fontWeight:500,fontSize:"28px",marginBottom:"8px"}},"\u4F01\u4E1A\u5FAE\u4FE1\u626B\u7801\u767B\u5F55"),a.a.createElement(g.a,{className:t.a.desc},"\u5B89\u5168\uFF0C\u5F3A\u5927\uFF0C\u6613\u5F00\u53D1\u7684\u5F00\u6E90\u4F01\u4E1A\u5FAE\u4FE1SCRM")),W!==A.a&&E&&a.a.createElement(M.a,{style:{marginTop:12},message:E,type:"error",showIcon:!0}),m==="loading"&&a.a.createElement("div",{className:t.a.placeholder},a.a.createElement(D.a,{size:"large"})),m==="failed"&&a.a.createElement("div",{className:t.a.placeholder},a.a.createElement(O.a,{status:"warning",title:"\u7CFB\u7EDF\u9519\u8BEF",subTitle:"\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458"})),a.a.createElement("div",{id:"qrcodeContainer",className:t.a.qrcodeContainer},a.a.createElement(h.a,{type:"text/javascript",src:"https://rescdn.qqmail.com/node/ww/wwopenmng/js/sso/wwLogin-1.0.0.js",onLoad:F})))};o.default=L}}]);
